<?xml version="1.0" encoding="GB18030" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=GB18030" />
	<title>HTMLChart test page (JSUnit)</title>
    <script language="JavaScript" src="./app/jsUnitCore.js"></script>
    <script language="JavaScript" src="../Decimal.js"></script>
    <script language="JavaScript" >
		function setUpPage() {
			setUpPageStatus="complete";
		}

		function testNewDecimal()
		{
			var d1=new Decimal(1566e25);
			
			var d1 = new Decimal();
			assertEquals("new Decimal()", "NaN", d1.toString());

			var d1 = new Decimal(3);
			assertEquals("new Decimal(3)", "3", d1.toString());

			var d1 = new Decimal(3.3);
			assertEquals("new Decimal(3.3)", "3.3", d1.toString());

			var d1 = new Decimal("5.24");
			assertEquals("new Decimal('5.24')", "5.24", d1.toString());

			var d1 = new Decimal(3.3289,2);
			assertEquals("new Decimal(3.3289,2)", "3.33", d1.toString());

			var d1 = new Decimal(368,2,true);
			assertEquals("new Decimal(368,2)", "3.68", d1.toString());

			var d1 = new Decimal(368.459,2,true);
			assertEquals("new Decimal(368.459,2,true)", "3.68", d1.toString());
		}

		function testAddDecimal()
		{
			var d1 = new Decimal(3.68);
			var res=d1.add(2.25);
			assertEquals("3.68+2.25", "5.93", res.toString());

			var d1 = new Decimal(3.33);
			var res=d1.add(2.22);
			assertEquals("3.33+2.22", "5.55", res.toString());

			var d1 = new Decimal(1/3);
			var res=d1.add(2.22);
			assertEquals("1/3+2.22", "2.553333", res.valueOf().toFixed(6));
		}		

		function testMinusDecimal()
		{
			var d1 = new Decimal(3.68);
			var res=d1.minus(2.25);
			assertEquals("3.68-2.25", "1.43", res.toString());

			var d1 = new Decimal(2.22);
			var res=d1.minus(3.33);
			assertEquals("2.22-3.33", "-1.11", res.toString());

			var d1 = new Decimal(2.22);
			var res=d1.minus(1/3);
			assertEquals("2.22-1/3", "1.886667", res.valueOf().toFixed(6));
		}		

		function testMultiplyDecimal()
		{
			var d1 = new Decimal(3.68);
			var res=d1.multiply(2.25);
			assertEquals("3.68*2.25", 8.28, res.valueOf());

			var d1 = new Decimal(2.22);
			var res=d1.multiply(3.33);
			assertEquals("2.22*3.33", 7.3926, res.valueOf());

			var d1 = new Decimal(2.22);
			var res=d1.multiply(1/3);
			assertEquals("2.22*1/3", 0.74, res.valueOf());

			var d1 = new Decimal(3.3);
			var res=d1.multiply(5.6);
			assertEquals("3.3*5.6", 18.48, res.valueOf());

			var d1 = new Decimal(389995211.18);
			var res=d1.multiply(9666629.14);
			assertEquals("389995211.18*9666629.14", 3769939072853041.7852, res.valueOf());
		}

		function testDivideDecimal()
		{
			var d1 = new Decimal(3.68);
			var res=d1.divide(2.25);
			assertEquals("3.68/2.25", "1.6356", res.valueOf().toFixed(4));

			var d1 = new Decimal(6.66);
			var res=d1.divide(2.22);
			assertEquals("6.66/2.22", 3, res.valueOf());

			var d1 = new Decimal(2.22);
			var res=d1.divide(1/3);
			assertEquals("2.22/(1/3)", "6.66", res.valueOf().toFixed(2));
		}
	</script>
</head>
<body >
</body>
</html>